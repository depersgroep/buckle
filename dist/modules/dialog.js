"use strict";function Dialog(args){if(args){var _this=this;_this.defaults={trigger:args.trigger?args.trigger:null,overlay:args.overlay===!1?args.overlay:!0,closer:args.close?args.close:!1,position:args.position?args.position:{x:"50%",y:"50%"},onShow:args.onShow?args.onShow:function(){},onHide:args.onHide?args.onHide:function(){}},$(_this.defaults.trigger).each(function(){var trigger=$(this),id=trigger.attr("data-trigger"),modal=$('*[data-modal="'+id+'"]');id&&modal.length&&(trigger.data("toggle",new Toggle({trigger:this,toggle:modal,globalClose:!1,onShow:function(){_this.show(trigger,modal)},onHide:function(){_this.hide(trigger,modal)}})),_this.defaults.closer&&$(_this.defaults.closer,modal).on("click.dialog.close",function(){var tgl=$(_this.defaults.trigger).data("toggle");tgl&&tgl.hide.call(tgl)}))})}return this}Dialog.prototype.show=function(trigger,modal){return this.defaults&&trigger&&modal&&(App.views.dialog.unshift($(this.defaults.trigger).data("toggle")),this.defaults.onShow.call(this,{overlay:this.defaults.overlay,modal:modal,trigger:trigger,position:this.defaults.position})),this},Dialog.prototype.hide=function(trigger,modal){return this.defaults&&(App.views.dialog.length&&App.views.dialog.shift(),this.defaults.onHide.call(this,{overlay:this.defaults.overlay,modal:modal,trigger:trigger,position:this.defaults.position})),this},Dialog.prototype.destroy=function(){var _this=this;return this.defaults&&$(this.defaults.trigger).each(function(){$(this).data("toggle")&&($(this).data("toggle").destroy(),$(this).data("toggle",""));var trigger=$(this),id=trigger.attr("data-trigger"),modal=$('*[data-modal="'+id+'"]');_this.defaults.closer&&$(_this.defaults.closer,modal).each(function(){bean.off(this,"click.dialog")})}),this};