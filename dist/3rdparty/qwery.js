!function(name,context,definition){"undefined"!=typeof module&&module.exports?module.exports=definition():"function"==typeof define&&define.amd?define(definition):context[name]=definition()}("qwery",this,function(){function cache(){this.c={}}function classRegex(c){return classCache.g(c)||classCache.s(c,"(^|\\s+)"+c+"(\\s+|$)",1)}function each(a,fn){for(var i=0,l=a.length;l>i;i++)fn(a[i])}function flatten(ar){for(var r=[],i=0,l=ar.length;l>i;++i)arrayLike(ar[i])?r=r.concat(ar[i]):r[r.length]=ar[i];return r}function arrayify(ar){for(var i=0,l=ar.length,r=[];l>i;i++)r[i]=ar[i];return r}function previous(n){for(;(n=n.previousSibling)&&1!=n[nodeType];);return n}function q(query){return query.match(chunker)}function interpret(whole,tag,idsAndClasses,wholeAttribute,attribute,qualifier,value,wholePseudo,pseudo,wholePseudoVal,pseudoVal){var i,m,k,o,classes;if(1!==this[nodeType])return!1;if(tag&&"*"!==tag&&this[tagName]&&this[tagName].toLowerCase()!==tag)return!1;if(idsAndClasses&&(m=idsAndClasses.match(id))&&m[1]!==this.id)return!1;if(idsAndClasses&&(classes=idsAndClasses.match(clas)))for(i=classes.length;i--;)if(!classRegex(classes[i].slice(1)).test(this.className))return!1;if(pseudo&&qwery.pseudos[pseudo]&&!qwery.pseudos[pseudo](this,pseudoVal))return!1;if(wholeAttribute&&!value){o=this.attributes;for(k in o)if(Object.prototype.hasOwnProperty.call(o,k)&&(o[k].name||k)==attribute)return this}return wholeAttribute&&!checkAttr(qualifier,getAttr(this,attribute)||"",value)?!1:this}function clean(s){return cleanCache.g(s)||cleanCache.s(s,s.replace(specialChars,"\\$1"))}function checkAttr(qualify,actual,val){switch(qualify){case"=":return actual==val;case"^=":return actual.match(attrCache.g("^="+val)||attrCache.s("^="+val,"^"+clean(val),1));case"$=":return actual.match(attrCache.g("$="+val)||attrCache.s("$="+val,clean(val)+"$",1));case"*=":return actual.match(attrCache.g(val)||attrCache.s(val,clean(val),1));case"~=":return actual.match(attrCache.g("~="+val)||attrCache.s("~="+val,"(?:^|\\s+)"+clean(val)+"(?:\\s+|$)",1));case"|=":return actual.match(attrCache.g("|="+val)||attrCache.s("|="+val,"^"+clean(val)+"(-|$)",1))}return 0}function _qwery(selector,_root){var i,l,m,token,els,intr,item,r=[],ret=[],root=_root,tokens=tokenCache.g(selector)||tokenCache.s(selector,selector.split(tokenizr)),dividedTokens=selector.match(dividers);if(!tokens.length)return r;if(token=(tokens=tokens.slice(0)).pop(),tokens.length&&(m=tokens[tokens.length-1].match(idOnly))&&(root=byId(_root,m[1])),!root)return r;for(intr=q(token),els=root!==_root&&9!==root[nodeType]&&dividedTokens&&/^[+~]$/.test(dividedTokens[dividedTokens.length-1])?function(r){for(;root=root.nextSibling;)1==root[nodeType]&&(intr[1]?intr[1]==root[tagName].toLowerCase():1)&&(r[r.length]=root);return r}([]):root[byTag](intr[1]||"*"),i=0,l=els.length;l>i;i++)(item=interpret.apply(els[i],intr))&&(r[r.length]=item);return tokens.length?(each(r,function(e){ancestorMatch(e,tokens,dividedTokens)&&(ret[ret.length]=e)}),ret):r}function is(el,selector,root){if(isNode(selector))return el==selector;if(arrayLike(selector))return!!~flatten(selector).indexOf(el);for(var tokens,dividedTokens,selectors=selector.split(",");selector=selectors.pop();)if(tokens=tokenCache.g(selector)||tokenCache.s(selector,selector.split(tokenizr)),dividedTokens=selector.match(dividers),tokens=tokens.slice(0),interpret.apply(el,q(tokens.pop()))&&(!tokens.length||ancestorMatch(el,tokens,dividedTokens,root)))return!0;return!1}function ancestorMatch(el,tokens,dividedTokens,root){function crawl(e,i,p){for(;p=walker[dividedTokens[i]](p,e);)if(isNode(p)&&interpret.apply(p,q(tokens[i]))){if(!i)return p;if(cand=crawl(p,i-1,p))return cand}}var cand;return(cand=crawl(el,tokens.length-1,el))&&(!root||isAncestor(cand,root))}function isNode(el,t){return el&&"object"==typeof el&&(t=el[nodeType])&&(1==t||9==t)}function uniq(ar){var i,j,a=[];o:for(i=0;i<ar.length;++i){for(j=0;j<a.length;++j)if(a[j]==ar[i])continue o;a[a.length]=ar[i]}return a}function arrayLike(o){return"object"==typeof o&&isFinite(o.length)}function normalizeRoot(root){return root?"string"==typeof root?qwery(root)[0]:!root[nodeType]&&arrayLike(root)?root[0]:root:doc}function byId(root,id,el){return 9===root[nodeType]?root.getElementById(id):root.ownerDocument&&((el=root.ownerDocument.getElementById(id))&&isAncestor(el,root)&&el||!isAncestor(root,root.ownerDocument)&&select('[id="'+id+'"]',root)[0])}function qwery(selector,_root){var m,el,root=normalizeRoot(_root);if(!root||!selector)return[];if(selector===window||isNode(selector))return!_root||selector!==window&&isNode(root)&&isAncestor(selector,root)?[selector]:[];if(selector&&arrayLike(selector))return flatten(selector);if(m=selector.match(easy)){if(m[1])return(el=byId(root,m[1]))?[el]:[];if(m[2])return arrayify(root[byTag](m[2]));if(hasByClass&&m[3])return arrayify(root[byClass](m[3]))}return select(selector,root)}function collectSelector(root,collector){return function(s){var oid,nid;return splittable.test(s)?void(9!==root[nodeType]&&((nid=oid=root.getAttribute("id"))||root.setAttribute("id",nid="__qwerymeupscotty"),s='[id="'+nid+'"]'+s,collector(root.parentNode||root,s,!0),oid||root.removeAttribute("id"))):void(s.length&&collector(root,s,!1))}}var select,doc=document,html=doc.documentElement,byClass="getElementsByClassName",byTag="getElementsByTagName",qSA="querySelectorAll",useNativeQSA="useNativeQSA",tagName="tagName",nodeType="nodeType",id=/#([\w\-]+)/,clas=/\.[\w\-]+/g,idOnly=/^#([\w\-]+)$/,classOnly=/^\.([\w\-]+)$/,tagOnly=/^([\w\-]+)$/,tagAndOrClass=/^([\w]+)?\.([\w\-]+)$/,splittable=/(^|,)\s*[>~+]/,normalizr=/^\s+|\s*([,\s\+\~>]|$)\s*/g,splitters=/[\s\>\+\~]/,splittersMore=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,specialChars=/([.*+?\^=!:${}()|\[\]\/\\])/g,simple=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,attr=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,pseudo=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,easy=new RegExp(idOnly.source+"|"+tagOnly.source+"|"+classOnly.source),dividers=new RegExp("("+splitters.source+")"+splittersMore.source,"g"),tokenizr=new RegExp(splitters.source+splittersMore.source),chunker=new RegExp(simple.source+"("+attr.source+")?("+pseudo.source+")?"),walker={" ":function(node){return node&&node!==html&&node.parentNode},">":function(node,contestant){return node&&node.parentNode==contestant.parentNode&&node.parentNode},"~":function(node){return node&&node.previousSibling},"+":function(node,contestant,p1,p2){return node?(p1=previous(node))&&(p2=previous(contestant))&&p1==p2&&p1:!1}};cache.prototype={g:function(k){return this.c[k]||void 0},s:function(k,v,r){return v=r?new RegExp(v):v,this.c[k]=v}};var classCache=new cache,cleanCache=new cache,attrCache=new cache,tokenCache=new cache,isAncestor="compareDocumentPosition"in html?function(element,container){return 16==(16&container.compareDocumentPosition(element))}:"contains"in html?function(element,container){return container=9===container[nodeType]||container==window?html:container,container!==element&&container.contains(element)}:function(element,container){for(;element=element.parentNode;)if(element===container)return 1;return 0},getAttr=function(){var e=doc.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,a){return"class"===a?e.className:"href"===a||"src"===a?e.getAttribute(a,2):e.getAttribute(a)}:function(e,a){return e.getAttribute(a)}}(),hasByClass=!!doc[byClass],hasQSA=doc.querySelector&&doc[qSA],selectQSA=function(selector,root){var ss,e,result=[];try{return 9!==root[nodeType]&&splittable.test(selector)?(each(ss=selector.split(","),collectSelector(root,function(ctx,s){e=ctx[qSA](s),1==e.length?result[result.length]=e.item(0):e.length&&(result=result.concat(arrayify(e)))})),ss.length>1&&result.length>1?uniq(result):result):arrayify(root[qSA](selector))}catch(ex){}return selectNonNative(selector,root)},selectNonNative=function(selector,root){var items,m,i,l,r,ss,result=[];if(selector=selector.replace(normalizr,"$1"),m=selector.match(tagAndOrClass)){for(r=classRegex(m[2]),items=root[byTag](m[1]||"*"),i=0,l=items.length;l>i;i++)r.test(items[i].className)&&(result[result.length]=items[i]);return result}return each(ss=selector.split(","),collectSelector(root,function(ctx,s,rewrite){for(r=_qwery(s,ctx),i=0,l=r.length;l>i;i++)(9===ctx[nodeType]||rewrite||isAncestor(r[i],root))&&(result[result.length]=r[i])})),ss.length>1&&result.length>1?uniq(result):result},configure=function(options){"undefined"!=typeof options[useNativeQSA]&&(select=options[useNativeQSA]&&hasQSA?selectQSA:selectNonNative)};return configure({useNativeQSA:!0}),qwery.configure=configure,qwery.uniq=uniq,qwery.is=is,qwery.pseudos={},qwery});